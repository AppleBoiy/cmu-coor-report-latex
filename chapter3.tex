\chapter{ปัญหาและสมมติฐาน}\label{ch:problems-hypotheses}

\section{ปัญหาที่พบในการปฏิบัติงาน}\label{sec:problems}
\paragraph{}

ในการดำเนินงานตามกรอบการทำงาน KGs-Augmented Testsuite Generator Framework มีความท้าทายและปัญหาทางเทคนิคหลายประการที่เกิดขึ้น ซึ่งเกี่ยวข้องกับการจัดการข้อมูลที่ซับซ้อน การทำงานร่วมกันของเทคโนโลยีที่แตกต่างกัน และคุณภาพของข้อมูลนำเข้า โดยสามารถสรุปปัญหาหลักที่พบได้ดังนี้:

\subsection{ปัญหาด้านการสกัดข้อมูลและการสร้าง Knowledge Graph}\label{subsec:data-extraction-kg}

\paragraph{} ปัญหาหลักที่พบในการสกัดข้อมูลจากรายงานอุบัติเหตุและการสร้าง Knowledge Graph มีดังนี้:

\begin{enumerate}[label=\arabic*.)]
    \item ความไม่สมบูรณ์ของข้อมูลในรายงานอุบัติเหตุ: รายงานอุบัติเหตุที่มาจากแหล่งข้อมูลอย่าง CIREN หรือ GIDAS มักมีข้อมูลบางส่วนที่ขาดหายไป กำกวม หรือขัดแย้งกันเอง ซึ่งทำให้การสกัดข้อมูลโดยใช้ Schema-guided LLM มีความท้าทายอย่างมากในการรับรองความถูกต้อง (Fidelity) และความน่าเชื่อถือของเอนทิตีที่ถูกสกัด
    \item ความผิดพลาดในการอนุมานของ LLM: แม้จะใช้ Schema-guided LLM เพื่อควบคุมทิศทางในการสกัดข้อมูลแล้ว แต่โมเดลภาษาขนาดใหญ่ก็ยังคงมีแนวโน้มที่จะสร้างข้อความที่ผิดพลาดหรือข้อมูลที่ไม่สอดคล้องกับความเป็นจริง (Hallucination) โดยเฉพาะเมื่อต้องสกัดความสัมพันธ์เชิงเหตุผล (Causal Relationships) ที่ซับซ้อน
    \item ความท้าทายในการสร้าง Knowledge Graph ที่สม่ำเสมอ: การแปลงข้อมูลที่มีโครงสร้างที่ถูกสกัดมาให้อยู่ในรูปแบบ Knowledge Graph ที่สอดคล้องและสม่ำเสมอ (Consistent Schema) นั้นทำได้ยาก เนื่องจากข้อมูลอุบัติเหตุแต่ละกรณีมีความแตกต่างกันอย่างมาก ทำให้ต้องมีการปรับแก้โครงสร้างกราฟและกฎการสร้างความสัมพันธ์ (Triples) อยู่เสมอ
\end{enumerate}

\subsection{ปัญหาด้านการบูรณาการ ODD และประสิทธิภาพ}\label{subsec:odd-integration-performance}

\begin{enumerate}[label=\arabic*.)]
    \item ความซับซ้อนของการกำหนดกฎ ODD: การกำหนดกฎเชิงตรรกะที่เข้มงวดของ Operational Design Domain (ODD) ให้เป็นเงื่อนไขที่ใช้ในการสืบค้น (Inference Query) ภายใน Knowledge Graph นั้นมีความซับซ้อนสูง หากกำหนดกฎไม่ละเอียดพอ อาจทำให้เกิดการกรองที่หลวมเกินไป และยังคงสร้าง Scenario ที่ไม่เกี่ยวข้อง หรือหากกำหนดกฎที่เข้มงวดเกินไป อาจทำให้พลาด Edge-Case ที่มีความสำคัญไป
    \item ประสิทธิภาพของการประมวลผลกราฟ: เมื่อ Knowledge Graph มีขนาดใหญ่ขึ้น การเรียกใช้ Inference Engine เพื่อประเมินและค้นหา Scenario ที่ละเมิดกฎ ODD หรือสอดคล้องกับ Edge-Case จะใช้ทรัพยากรการประมวลผลและเวลาที่เพิ่มขึ้นอย่างมาก ซึ่งส่งผลต่อประสิทธิภาพโดยรวมของกรอบการทำงานในการค้นพบ Edge-Case ใหม่ ๆ
\end{enumerate}

\subsection{ปัญหาด้านผลลัพธ์และการนำไปใช้}\label{subsec:output-usage}

\paragraph{}
ความท้าทายในการส่งออกรูปแบบมาตรฐาน: การแปลงข้อมูล Scenario จากโครงสร้าง Knowledge Graph ที่มีความละเอียดสูง ไปสู่รูปแบบไฟล์มาตรฐานของอุตสาหกรรม เช่น ASAM OpenSCENARIO ต้องอาศัยการทำ Mapping ที่แม่นยำเพื่อรับประกันว่า Scenario ที่สร้างขึ้นจะสามารถรันในสภาพแวดล้อมจำลองได้อย่างถูกต้อง โดยไม่เกิดข้อผิดพลาดในการแปลความหมายของตัวแปรและเอนทิตี


\section{การวิเคราะห์ปัญหา}\label{sec:problem-analysis}
\paragraph{}

การวิเคราะห์ปัญหาที่เกิดขึ้นในการปฏิบัติงานมีความจำเป็นอย่างยิ่ง เพื่อให้สามารถระบุแนวทางแก้ไขที่เหมาะสมและปรับปรุงประสิทธิภาพของกรอบการทำงาน KGs-Augmented Testsuite Generator ได้อย่างตรงจุด การวิเคราะห์ปัญหาหลัก ๆ ที่พบมีดังนี้:

\subsection{การวิเคราะห์ปัญหาด้านข้อมูลและความน่าเชื่อถือ}\label{subsec:data-reliability-analysis}

\paragraph{}จากการวิเคราะห์ปัญหาที่กล่าวมาข้างต้น สามารถสรุปที่มาของปัญหา ได้ดังนี้

\begin{enumerate}[label=\arabic*.)]
    \item ปัญหาจากความไม่สมบูรณ์และกำกวมของข้อมูล:
    \begin{itemize}
        \item สาเหตุ: รายงานอุบัติเหตุจริง CIREN และ GIDAS ถูกบันทึกโดยมนุษย์ในรูปแบบข้อความอิสระ (Free Text) ซึ่งมีลักษณะเป็นการตีความและสังเกตการณ์ที่แตกต่างกัน ทำให้ขาดมาตรฐานในการให้ข้อมูลที่สม่ำเสมอ และมีโอกาสเกิดการละเว้นข้อมูลบางส่วนที่สำคัญต่อการสร้าง Scenario
        \item ผลกระทบ: ทำให้ Schema-guided LLM ไม่สามารถสกัดข้อมูลที่มีโครงสร้างได้อย่างสมบูรณ์ และส่งผลให้ Knowledge Graph ที่สร้างขึ้นมีช่องว่างของข้อมูล (Missing Triples) ซึ่งลดความน่าเชื่อถือและความแม่นยำของ Scenario จำลองที่ต้องอาศัยความต่อเนื่องเชิงเหตุผล
    \end{itemize}
    \item ปัญหาความผิดพลาดในการอนุมานของ LLM:
    \begin{itemize}
        \item สาเหตุ: แม้จะมีการใช้ Schema เป็นแนวทาง แต่ LLM ยังมีข้อจำกัดในการทำความเข้าใจบริบททางฟิสิกส์ (Physical Constraints) หรือกฎหมายที่ซับซ้อน ทำให้เกิดการสร้างข้อมูลที่ผิดพลาด (Hallucination) หรือการสกัดความสัมพันธ์เชิงเหตุผลที่ไม่ถูกต้อง
        \item ผลกระทบ: ทำให้ Knowledge Graph มีข้อมูลที่ผิดพลาดแฝงอยู่ ซึ่งหากนำไปสร้างเป็น Scenario จะทำให้ได้ชุดทดสอบที่ไม่มีความสมจริงหรือไม่สามารถเกิดขึ้นได้จริงในทางปฏิบัติ ส่งผลให้ประสิทธิภาพในการประเมิน ADS ลดลง
    \end{itemize}
\end{enumerate}

\subsection{การวิเคราะห์ปัญหาด้านการจัดการ Knowledge Graph และ ODD}\label{subsec:kg-odd-management-analysis}

\paragraph{}จากการวิเคราะห์ปัญหาที่กล่าวมาข้างต้น สามารถสรุปที่มาของปัญหา ได้ดังนี้

\begin{enumerate}[label=\arabic*.)]
    \item ปัญหาความซับซ้อนของการกำหนดกฎ ODD:
    \begin{itemize}
        \item สาเหตุ: การแปลงคำนิยามของ Operational Design Domain (ODD) ซึ่งเป็นแนวคิดที่ค่อนข้างเป็นนามธรรม ให้เป็นกฎเชิงตรรกะที่เข้มงวดสำหรับการสืบค้นใน Knowledge Graph (KG) นั้นต้องอาศัยความเชี่ยวชาญและการตีความที่แม่นยำ
        \item ผลกระทบ: หากการกำหนดกฎไม่แม่นยำ จะส่งผลกระทบโดยตรงต่อวัตถุประสงค์หลักของงานวิจัย กล่าวคือ การกรอง Scenario ที่ไม่เกี่ยวข้องออกไปทำได้ไม่ดีพอ (เกิด False Positives) ทำให้จำนวนเหตุการณ์ที่ต้องสร้างใหม่จนกว่าจะพบ Edge-Case ใหม่ยังคงสูงอยู่
    \end{itemize}
    \item ปัญหาประสิทธิภาพการประมวลผลกราฟขนาดใหญ่:
    \begin{itemize}
        \item สาเหตุ: การทำงานของ Inference Engine บน Knowledge Graph ที่ขยายตัวอย่างต่อเนื่อง (เมื่อมีการเพิ่มรายงานอุบัติเหตุเข้าไป) จำเป็นต้องมีการประมวลผลความสัมพันธ์จำนวนมหาศาลเพื่อหา Scenario ที่สอดคล้องกับกฎ ODD หรือละเมิดความปลอดภัย
        \item ผลกระทบ: ประสิทธิภาพการสืบค้นและเวลาในการตอบสนอง (Query Latency) ลดลงอย่างมีนัยสำคัญ เมื่อฐานข้อมูล Knowledge Graph เติบโตขึ้น ซึ่งเป็นอุปสรรคต่อการนำกรอบการทำงานนี้ไปใช้ในระดับอุตสาหกรรมที่ต้องมีการประมวลผลข้อมูลจำนวนมากแบบเรียลไทม์หรือเกือบเรียลไทม์
    \end{itemize}
\end{enumerate}

\section{สมมติฐานหรือแนวทางในการแก้ไข}\label{sec:hypotheses}
\paragraph{}

จากปัญหาที่ได้วิเคราะห์ไว้ในกระบวนการพัฒนากรณีศึกษา (Scenario) โดยใช้ KGs-Augmented Testsuite Generator Framework มีสมมติฐานและแนวทางแก้ไขหลายประการที่ถูกนำมาพิจารณาและประยุกต์ใช้เพื่อเพิ่มประสิทธิภาพ ความน่าเชื่อถือ และความสามารถในการค้นพบ Edge-Case ของระบบ

\subsection{การเสริมสร้างความน่าเชื่อถือของการสกัดข้อมูล}\label{subsec:improving-data-reliability}

\paragraph{} การแก้ไขปัญหาด้านข้อมูลและความน่าเชื่อถือของการสกัดข้อมูล มีสมมติฐานและแนวทางแก้ไขดังนี้

\begin{enumerate}[label=\arabic*.)]
    \item การใช้เทคนิค Multi-Step Prompting สำหรับ LLM: เพื่อแก้ไขปัญหาความผิดพลาดในการอนุมานของ LLM และความไม่สมบูรณ์ของข้อมูล มีการตั้งสมมติฐานว่าการแยกกระบวนการสกัดข้อมูลที่ซับซ้อนออกเป็นขั้นตอนย่อย ๆ เช่น สกัดเอนทิตี สกัดความสัมพันธ์ ตรวจสอบความสอดคล้องเชิงฟิสิกส์ จะช่วยให้ LLM มีความแม่นยำสูงขึ้นในการสกัดข้อมูลและการสร้างความสัมพันธ์เชิงเหตุผล
    \item การใช้ Cross-Validation โดยผู้เชี่ยวชาญ: กำหนดให้มีการตรวจสอบความถูกต้องของข้อมูล (Data Fidelity) ที่ถูกสกัดจาก LLM โดยผู้เชี่ยวชาญด้านการวิเคราะห์อุบัติเหตุหรือวิศวกรความปลอดภัย เพื่อปรับปรุง Schema และกฎการสกัดข้อมูลให้มีความแม่นยำสูงขึ้นก่อนนำเข้า Knowledge Graph
    \item การสร้าง Ontology สำหรับอุบัติเหตุ: พัฒนาระบบ Ontology ที่มีรายละเอียดเฉพาะสำหรับ Domain อุบัติเหตุจราจร เพื่อใช้เป็น Schema ที่เข้มงวดและเป็นมาตรฐานในการกำหนดนิยามเอนทิตีและความสัมพันธ์ใน Knowledge Graph ซึ่งจะช่วยลดปัญหาความไม่สม่ำเสมอของโครงสร้างกราฟ
\end{enumerate}

\subsection{การเพิ่มประสิทธิภาพการค้นพบ Edge-Case}\label{subsec:improving-edge-case-discovery}

\paragraph{} การแก้ไขปัญหาด้านการจัดการ Knowledge Graph และ ODD มีสมมติฐานและแนวทางแก้ไขดังนี้

\begin{enumerate}[label=\arabic*.)]
    \item การใช้กฎ ODD แบบลำดับชั้น (Hierarchical ODD Rules): เพื่อแก้ไขปัญหาความซับซ้อนในการกำหนดกฎ ODD มีสมมติฐานว่าการจัดโครงสร้างกฎ ODD ให้เป็นลำดับชั้น (เช่น เงื่อนไขทั่วไป, เงื่อนไขเฉพาะ, เงื่อนไขขอบเขต) จะช่วยให้ Inference Engine สามารถประมวลผลการกรอง Edge-Case ได้อย่างมีประสิทธิภาพมากขึ้น และลดโอกาสที่จะเกิดการกรองที่ผิดพลาด (False Filtering)
    \item การใช้ Partitioning และ Indexing ใน Knowledge Graph: เพื่อจัดการกับปัญหาประสิทธิภาพของการประมวลผลกราฟขนาดใหญ่ มีการนำเทคนิคการแบ่งส่วนข้อมูล (Partitioning) หรือการสร้างดัชนี (Indexing) เฉพาะสำหรับเอนทิตีที่เกี่ยวข้องกับ ODD และ Edge-Case เข้ามาใช้ในฐานข้อมูล Knowledge Graph เพื่อลดภาระการคำนวณของ Inference Engine ในระหว่างการสืบค้น (Query)
    \item การพัฒนา Metric ในการให้คะแนน Edge-Case (Edge-Case Scoring Metric): สร้างมาตรวัดเชิงปริมาณ (Quantitative Metric) เพื่อให้คะแนนความท้าทาย (Severity) ของ Scenario ที่สร้างขึ้น ซึ่งจะทำให้สามารถจัดลำดับความสำคัญของ Scenario ที่ถูกสร้างขึ้น และมุ่งเน้นการสร้างซ้ำเฉพาะในกลุ่มที่มีคะแนน Edge-Case สูง เพื่อให้การค้นพบเคสใหม่มีความรวดเร็วและเป็นไปตามวัตถุประสงค์ของการวิจัย
\end{enumerate}

\subsection{การปรับปรุงการส่งออก Scenario}\label{subsec:improving-scenario-export}
\paragraph{}
 การพัฒนาระบบ Mapping อัตโนมัติ: พัฒนาเครื่องมือ Mapping อัตโนมัติที่แข็งแกร่งเพื่อแปลงความสัมพันธ์และคุณสมบัติต่าง ๆ จาก Knowledge Graph ให้เป็นรูปแบบ ASAM OpenSCENARIO ที่ถูกต้องแม่นยำ โดยมีการตรวจสอบความสอดคล้องกับ Schema ของมาตรฐาน ASAM เพื่อลดข้อผิดพลาดในการแปลความหมายของ Scenario ก่อนนำไปใช้ในการจำลอง


\section{ข้อจำกัดของการศึกษา}\label{sec:limitations}
\paragraph{}

การวิจัยนี้มุ่งเน้นการพัฒนากรอบการทำงานที่เป็นแนวคิดใหม่ในการสร้างชุดทดสอบ แต่ก็มีข้อจำกัดหลายประการที่ต้องนำมาพิจารณา ซึ่งส่วนใหญ่เกี่ยวข้องกับคุณภาพของข้อมูลนำเข้า ความจำกัดของเทคโนโลยีที่ใช้ และขอบเขตการดำเนินงานที่ถูกกำหนดไว้ล่วงหน้า ดังนี้:

\subsection{ข้อจำกัดด้านข้อมูลและเทคโนโลยี}\label{subsec:data-tech-limitations}
\paragraph{} ข้อจำกัดหลักที่พบในด้านข้อมูลและเทคโนโลยี มีดังนี้
\begin{enumerate}[label=\arabic*.)]
    \item การพึ่งพาข้อมูลอุบัติเหตุในอดีต: การศึกษานี้ขึ้นอยู่กับรายงานอุบัติเหตุจริงจากฐานข้อมูลสาธารณะ เช่น CIREN และ GIDAS ซึ่งเป็นข้อมูลในอดีตและมีลักษณะที่ไม่สมบูรณ์ รวมถึงมีความเป็นอัตวิสัย (Subjectivity) ในการบันทึกของผู้รายงาน ข้อจำกัดนี้ส่งผลโดยตรงต่อคุณภาพและความแม่นยำของ Knowledge Graph ที่ถูกสร้างขึ้น
    \item ความท้าทายด้านความน่าเชื่อถือของ LLM: แม้จะมีการใช้ Schema-guided LLM เพื่อสกัดข้อมูล แต่โมเดลภาษายังคงมีแนวโน้มที่จะสร้างข้อมูลที่ผิดพลาด (Hallucination) หรือความสัมพันธ์เชิงเหตุผลที่ไม่ถูกต้อง โดยเฉพาะในสถานการณ์อุบัติเหตุที่มีความซับซ้อน ซึ่งทำให้ต้องอาศัยการตรวจสอบและปรับแก้จากผู้เชี่ยวชาญเพิ่มเติม
    \item ข้อจำกัดในการสรุปผล ODD: Operational Design Domain (ODD) ที่ใช้ในการวิจัยนี้อ้างอิงตามมาตรฐานของ JAMA เป็นหลัก ดังนั้นชุดทดสอบและผลลัพธ์ที่ได้จึงอาจไม่สามารถนำไปสรุปผลหรือนำไปประยุกต์ใช้โดยตรงกับระบบขับขี่อัตโนมัติ (ADS) ที่ถูกออกแบบมาภายใต้มาตรฐาน ODD ของผู้ผลิตหรือองค์กรอื่นที่มีนิยามที่แตกต่างกัน
    \item ปัญหาด้านการประมวลผลของ Knowledge Graph: เมื่อ Knowledge Graph เติบโตขึ้นตามจำนวนรายงานอุบัติเหตุที่เพิ่มขึ้น ประสิทธิภาพในการประมวลผลของ Inference Engine เพื่อสืบค้นและประเมินกฎ ODD จะลดลง ซึ่งอาจเป็นข้อจำกัดในการนำกรอบการทำงานนี้ไปใช้งานในระดับอุตสาหกรรมขนาดใหญ่ที่ต้องการความรวดเร็ว
\end{enumerate}

\subsection{ข้อจำกัดด้านขอบเขตการดำเนินงาน}\label{subsec:scope-limitations}
\paragraph{} ข้อจำกัดด้านขอบเขตการดำเนินงานของการวิจัยนี้ มีดังนี้
\begin{enumerate}[label=\arabic*.)]
    \item การขาดการประเมินในสภาพแวดล้อมจริง: ขอบเขตของโครงการสิ้นสุดที่การสร้างไฟล์ Scenario ที่มีโครงสร้างมาตรฐาน (เช่น ASAM OpenSCENARIO) และไม่ได้รวมถึงการดำเนินการจำลองสถานการณ์ (Simulation) หรือการทดสอบภาคสนามจริง ดังนั้น การประเมินผลกระทบที่แท้จริงของชุดทดสอบต่อประสิทธิภาพของระบบ ADS จึงอยู่นอกเหนือขอบเขตของการศึกษานี้
    \item การละเลยปัจจัยมนุษย์ในระดับละเอียด: Scenario ที่สร้างขึ้นเน้นการจับภาพเหตุการณ์ทางกายภาพและสภาพแวดล้อมเป็นหลัก แม้จะมีการเก็บข้อมูลพฤติกรรม แต่การวิเคราะห์และจำลองปัจจัยด้านมนุษย์ (Human Factors) เช่น ความผิดพลาดทางสติปัญญา หรือการตอบสนองทางอารมณ์ของผู้ขับขี่อย่างละเอียด ยังคงเป็นสิ่งที่ซับซ้อนและไม่ได้เป็นจุดเน้นหลักของกรอบการทำงานนี้
\end{enumerate}