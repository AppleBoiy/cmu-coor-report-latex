\chapter{เอกสารและงานวิจัยที่เกี่ยวข้อง}

\paragraph{}
บทนี้เป็นการทบทวนวรรณกรรม เอกสาร และงานวิจัยที่เกี่ยวข้องกับแนวคิดหลักและวิธีการที่ใช้ในการวิจัยนี้ โดยมีจุดมุ่งหมายเพื่อสร้างฐานความรู้ที่แข็งแกร่งและระบุช่องว่างทางการวิจัยที่โครงการนี้มุ่งเน้นแก้ไข เนื้อหาจะแบ่งออกเป็นแนวคิดพื้นฐานเกี่ยวกับระบบขับขี่อัตโนมัติ การสร้าง Scenario โครงสร้างข้อมูล Knowledge Graph และการใช้ LLM ในการประมวลผลภาษาธรรมชาติ

\section{แนวคิดพื้นฐานและทฤษฎีที่เกี่ยวข้อง}

\subsection{Operational Design Domain}\label{sec:ODD}
\paragraph{}
Operational Design Domain (ODD) คือชุดของเงื่อนไขการปฏิบัติงานที่กำหนดไว้ล่วงหน้า เช่น สภาพภูมิอากาศ สภาพถนน ความเร็วสูงสุด ซึ่งระบบขับขี่อัตโนมัติ (ADS) ได้รับการออกแบบมาให้ทำงานได้อย่างปลอดภัย ODD เป็นแนวคิดที่สำคัญอย่างยิ่งในการประเมินความปลอดภัย เนื่องจากช่วยกำหนดขอบเขตการทดสอบให้ชัดเจน งานวิจัยนี้ได้ใช้ ODD ที่กำหนดโดย Japan Automobile Manufacturers Association (JAMA)เป็นข้อจำกัดหลักในการกรองและสร้าง Scenario เพื่อให้ชุดทดสอบมีความสอดคล้องกับขีดความสามารถของระบบที่กำลังประเมิน

\subsection{Knowledge Graph (KG)}\label{sec:KG}
\paragraph{}
Knowledge Graph เป็นรูปแบบการนำเสนอข้อมูลเชิงความหมาย (Semantic Data Structure) ที่ใช้โหนด (Nodes) และขอบ (Edges/Relationships) เพื่อแสดงถึงเอนทิตี (Entities) และความสัมพันธ์ระหว่างเอนทิตีเหล่านั้น บทบาทของ KG ในงานวิจัยนี้คือการทำหน้าที่เป็น Semantic Backbone สำหรับข้อมูลอุบัติเหตุ ทำให้สามารถจัดเก็บข้อมูลที่สกัดจากรายงานอุบัติเหตุในรูปแบบที่มีโครงสร้างและอนุมาน (Inference) ข้อมูลที่ขาดหายไปได้ นอกจากนี้ยังช่วยรักษาความต่อเนื่องเชิงเหตุผล (Causal Continuity) ของเหตุการณ์ที่เกิดขึ้นในอุบัติเหตุ

\subsection{การประมวลผลภาษาธรรมชาติ (Natural Language Processing: NLP)}\label{sec:NLP}
\paragraph{}
การประมวลผลภาษาธรรมชาติ หรือ Natural Language Processing (NLP) เป็นสาขาย่อยหนึ่งของปัญญาประดิษฐ์ (AI) และวิทยาการคอมพิวเตอร์ ที่มุ่งเน้นการสร้างปฏิสัมพันธ์ระหว่างคอมพิวเตอร์กับภาษามนุษย์ เป้าหมายหลักของ NLP คือการทำให้คอมพิวเตอร์สามารถ "เข้าใจ" ตีความ และสร้างภาษาของมนุษย์ได้ในลักษณะที่มีประโยชน์ ซึ่งครอบคลุมงานหลากหลายประเภท เช่น การสกัดข้อมูล (Information Extraction) การแปลภาษาด้วยเครื่อง (Machine Translation) และการวิเคราะห์ความรู้สึก (Sentiment Analysis) ในงานวิจัยนี้ เทคนิค NLP เป็นหัวใจสำคัญในการแปลงรายงานอุบัติเหตุที่อยู่ในรูปแบบข้อความที่ไม่มีโครงสร้าง ให้กลายเป็นข้อมูลเชิงลึกที่มีความหมายและนำไปใช้ต่อได้

\subsection{Large Language Model}
\paragraph{}
Large Language Model (LLM) เป็นโมเดลปัญญาประดิษฐ์ที่ได้รับการฝึกฝนด้วยข้อมูลจำนวนมหาศาล เพื่อทำความเข้าใจและสร้างภาษาธรรมชาติ LLM มีความสามารถในการสกัดข้อมูลที่ซับซ้อนจากข้อความที่ไม่มีโครงสร้าง (Unstructured Text) งานวิจัยนี้ใช้ LLM ในการสกัดข้อมูลอุบัติเหตุจากรายงานที่เป็นข้อความ โดยมีการนำเทคนิค Schema-guided LLM มาใช้เพื่อเพิ่มความน่าเชื่อถือและความสม่ำเสมอของข้อมูลที่สกัดได้

\subsection{Schema-guided Large Language Model}\label{sec:sgLLM}
\paragraph{}
LLM เป็นเครื่องมือที่มีประสิทธิภาพในการประมวลผลภาษาธรรมชาติ (NLP) \cite{khot2024prompting} งานวิจัยนี้ใช้เทคนิค Schema-guided LLM เพื่อควบคุมและกำหนดทิศทางการสกัดข้อมูลจากรายงานอุบัติเหตุที่เป็นข้อความ (Unstructured Text) ให้เป็นข้อมูลที่มีโครงสร้าง (Structured Data) ตาม Schema ที่ออกแบบไว้ล่วงหน้า \cite{liyan2022analysis} การควบคุมด้วย Schema นี้ช่วยเพิ่มความน่าเชื่อถือและความสม่ำเสมอของข้อมูลที่สกัดได้ ก่อนนำไปสร้างเป็น Knowledge Graph \cite{liyan2022analysis}

Schema-guided LLM ถูกใช้เพื่อแก้ไขปัญหาความไม่สมบูรณ์และความกำกวมของข้อมูลในรายงานอุบัติเหตุจริง (เช่น CIREN หรือ GIDAS) \cite{nhtsa_ciren, gidas_study} ซึ่งรายงานเหล่านี้มักถูกบันทึกในรูปแบบข้อความอิสระ (Free Text) ที่ขาดมาตรฐาน การใช้ Schema เป็น Blueprint หรือ Ontology ที่กำหนดไว้ล่วงหน้าจะทำหน้าที่เป็น "สัญญา" ในการสกัดเอนทิตี, คุณลักษณะ, และความสัมพันธ์ที่จำเป็นให้ครบถ้วน

เพื่อเพิ่มความเข้าใจในกระบวนการสกัดข้อมูลโดย Schema-guided LLM ขอนำเสนอตัวอย่างการแปลงรายงานอุบัติเหตุที่ไม่มีโครงสร้าง (Narrative) ให้อยู่ในรูปแบบข้อมูลที่มีโครงสร้าง (Extracted Feature) ซึ่งเป็นขั้นตอนสำคัญก่อนการสร้าง Knowledge Graph \cite{bagschik2018ontology}:

\begin{table}[h!]
\centering
\caption{ตัวอย่างการสกัดข้อมูลโดย Schema-guided LLM: รายงานอุบัติเหตุ C00013}
\label{tab:sgllm_example}
\begin{tabularx}{\textwidth}{|p{0.48\textwidth}|X|}
\hline
\rowcolor{gray!20} รายงานอุบัติเหตุ (Unstructured Text: Case C00013) & ข้อมูลที่มีโครงสร้าง (Structured Data/Extracted Feature) \\
\hline
A two-vehicle collision occurred at a signalized urban intersection during daylight hours. Vehicle 1, a red fire truck traveling eastbound, entered on a green signal but came to a complete stop in the middle of the intersection. Vehicle 2, a white Honda compact SUV traveling southbound, entered against a red signal and struck the right passenger side of Vehicle 1. & \textbf{1. World/Environment:} \newline
\quad $\bullet$ Road Type: Urban intersection \newline
\quad $\bullet$ Signal Status: Functioning properly \newline
\quad $\bullet$ Time of Day: Daylight hours \newline
\quad $\bullet$ Road Condition: Dry \newline
\textbf{2. Actors:} \newline
\quad $\bullet$ Vehicle 1 (Target): Fire truck, traveling eastbound \newline
\quad $\bullet$ Vehicle 2 (Ego/ADS Candidate): White Honda compact SUV, traveling southbound \newline
\textbf{3. Scenario Sequence (Events):} \newline
\quad $\bullet$ Event 1 (V1): Stop in intersection (despite green light) \newline
\quad $\bullet$ Event 2 (V2): Encroachment (entered against red light) \newline
\quad $\bullet$ Event 3: Collision (V2 struck V1's right passenger side) \newline
\textbf{4. Outcome Metrics:} \newline
\quad $\bullet$ Injury Severity (V1 Driver): Moderate \newline
\quad $\bullet$ Injury Severity (V2 Driver): Minor \\
\hline
\end{tabularx}
\end{table}

\paragraph{}
ข้อมูลที่มีโครงสร้างดังกล่าว (ซึ่งอาจถูกเรียกว่า Extracted Feature หรือ JSON/XML output) เป็นรากฐานสำคัญที่ช่วยให้การแปลงเป็น Knowledge Graph ในขั้นตอนถัดไปเป็นไปได้อย่างแม่นยำและสม่ำเสมอ นอกจากนี้ การใช้ Schema ยังช่วยลดปัญหาความผิดพลาดในการอนุมานของ LLM (Hallucination) โดยเฉพาะในการสกัดความสัมพันธ์เชิงเหตุผลที่ซับซ้อน

\subsection{Edge-Case Discovery Efficiency}\paragraph{}

Edge-Case หมายถึงสถานการณ์ที่อยู่ขอบเขตการทำงานของระบบ ซึ่งมีโอกาสที่จะทำให้ระบบ ADS ล้มเหลวหรือทำงานผิดพลาด แนวคิดนี้เน้นไปที่การเพิ่ม \textbf{ประสิทธิภาพการค้นพบ (Discoverability Efficiency)} ซึ่งหมายถึงการลดจำนวน Scenario ที่ต้องสร้างขึ้นทั้งหมดจนกว่าจะพบ Edge-Case ใหม่ที่ท้าทายระบบจริง

\section{งานวิจัยที่เกี่ยวข้อง}

\subsection{การสร้าง Scenario จากรายงานอุบัติเหตุ}\paragraph{}

งานวิจัยก่อนหน้าได้สำรวจการใช้โมเดลภาษาขนาดใหญ่เพื่อแปลงรายงานอุบัติเหตุเป็นสถานการณ์จำลองสำหรับการทดสอบ ADS \cite{khot2024prompting} อย่างไรก็ตาม วิธีการเหล่านี้มักประสบปัญหาความไม่น่าเชื่อถือของ Scenario ที่สร้างขึ้น และขาดกลไกที่ชัดเจนในการมุ่งเน้นการสร้างเฉพาะ Edge-Case ที่เกี่ยวข้องกับขอบเขตของ ADS

\subsection{การวิเคราะห์อุบัติเหตุด้วย Knowledge Graph}\paragraph{}

มีการประยุกต์ใช้ Knowledge Graph ในการวิเคราะห์อุบัติเหตุจราจร เพื่อแสดงความสัมพันธ์เชิงสาเหตุของปัจจัยต่าง ๆ ที่นำไปสู่อุบัติเหตุ~\cite{liyan2022analysis} ซึ่งการใช้ KG นี้ช่วยในการอนุมานข้อมูลที่ขาดหายไปและเพิ่มความเข้าใจในโครงสร้างของอุบัติเหตุ อย่างไรก็ตาม งานเหล่านี้มักมุ่งเน้นที่การวิเคราะห์มากกว่าการประยุกต์ใช้เพื่อสร้างชุดทดสอบที่มีเป้าหมายเฉพาะ

\subsection{การประยุกต์ใช้ ODD ในการทดสอบ}\paragraph{}

งานวิจัยบางส่วนได้เสนอแนวคิดในการใช้ออนโทโลยี (Ontology) หรือ ODD เพื่อจัดหมวดหมู่และกำหนดขอบเขตของการสร้าง Scenario สำหรับยานยนต์อัตโนมัติ \cite{bagschik2018ontology} แนวทางนี้ช่วยให้การทดสอบมีเป้าหมายที่ชัดเจน อย่างไรก็ตาม ยังไม่มีการผสานรวม ODD เข้ากับโครงสร้าง Knowledge Graph และ LLM อย่างเป็นระบบ เพื่อแก้ไขปัญหาประสิทธิภาพในการค้นพบ Edge-Case

\subsection{ความแตกต่างและช่องว่างทางการวิจัย}\paragraph{}

งานวิจัยนี้เติมเต็มช่องว่างที่งานวิจัยก่อนหน้ายังขาดอยู่ โดยการ รวมเอาความน่าเชื่อถือของ Knowledge Graph เข้ากับ ความสามารถในการสกัดข้อมูลของ Schema-guided LLM และ การกำหนดขอบเขตที่ชัดเจนของ ODD เข้าไว้ในกรอบการทำงานเดียว ทำให้เป็นแนวทางแรก ๆ ที่มุ่งเน้นการแก้ไขปัญหา Edge-Case Discovery Efficiency โดยเฉพาะ

\section{เทคโนโลยีและเครื่องมือที่ใช้}

\subsection{เครื่องมือประมวลผลภาษาธรรมชาติและข้อมูล}
\begin{itemize}
 \item Large Language Model (LLM): ใช้ในการทำ Schema-guided Extraction เพื่อสกัดข้อมูลอุบัติเหตุจากรายงานที่เป็นข้อความ (Unstructured Reports)
 \item Knowledge Graph Database: แพลตฟอร์มฐานข้อมูลเชิงกราฟ (เช่น Neo4j, RDF Triple Store) ใช้ในการจัดเก็บ KG และรองรับการทำ Inference Engine เพื่อตรวจสอบข้อจำกัดของ ODD
\end{itemize}

\subsection{แหล่งข้อมูลอุบัติเหตุ (Accident Data Sources)}
งานวิจัยนี้อาศัยข้อมูลจากฐานข้อมูลอุบัติเหตุจริงที่เปิดเผยต่อสาธารณะ เพื่อเป็นข้อมูลนำเข้าในการสกัด Scenario:
\begin{table}[h!]
 \centering
 \caption{ตารางแสดงแหล่งข้อมูลอุบัติเหตุที่ใช้ในการวิจัย}
 \label{tab:data-sources}
 \begin{tabular}{|c|c|c|}
 \hline
 แหล่งข้อมูล & ชื่อเต็ม & ลักษณะข้อมูล \\
 \hline
 CIREN \cite{nhtsa_ciren} & Crash Injury Research and Engineering Network & รายงานอุบัติเหตุฉบับสมบูรณ์จากสหรัฐอเมริกา \\
\hline
GIDAS \cite{gidas_study} & German In-Depth Accident Study & ข้อมูลเชิงลึกของอุบัติเหตุในเยอรมนี \\
 \hline
 \end{tabular}
\end{table}

จากตาราง~\ref{tab:data-sources} ข้อมูลที่ได้จากทั้งสองแหล่งมีความละเอียดเพียงพอต่อการสกัดเอนทิตีและความสัมพันธ์เพื่อสร้างเป็น Knowledge Graph ได้อย่างสมบูรณ์

\subsection{มาตรฐานและสภาพแวดล้อมจำลอง}\label{subsec:ch2_standards}

\paragraph{}

ผลลัพธ์ของงานวิจัยถูกออกแบบให้สามารถส่งออก Scenario ในรูปแบบที่เข้ากันได้กับมาตรฐานอุตสาหกรรม (เช่น ASAM OpenSCENARIO) เพื่อนำไปใช้งานในสภาพแวดล้อมจำลอง (Simulation Environment) สำหรับการประเมิน ADS ต่อไป